<template>
  <div>
    <ul :class="$style.container">
      <li :class="[$style.box, $style.parent]">
        <div :class="$style.content">
          <span>{{ $t('病床使用率') }}</span>
          <value-with-translatable-unit
            :value="items['病床使用率'].toLocaleString()"
            :unit="{ text: '%', translatable: false }"
            :bold="true"
          />
        </div>
        <ul :class="$style.group">
          <li :class="[$style.box]">
            <div :class="$style.content">
              <span>{{ $t('入院者数') }}</span>
              <value-with-translatable-unit
                :value="items['入院数'].toLocaleString()"
                :unit="{ text: '人', translatable: true }"
                :bold="true"
              />
            </div>
          </li>
          <li :class="[$style.box]">
            <div :class="$style.content">
              <span>{{ $t('確保病床数') }}</span>
              <value-with-translatable-unit
                :value="items['確保病床数'].toLocaleString()"
                :unit="{ text: '床', translatable: true, except: ['en'] }"
                :bold="true"
              />
            </div>
          </li>
        </ul>
      </li>
      <li :class="[$style.box, $style.parent]">
        <div :class="$style.content">
          <span>{{
            $t('オミクロン株の特性を踏まえた重症者用病床使用率')
          }}</span>
          <value-with-translatable-unit
            :value="items['都基準重症病床使用率'].toLocaleString()"
            :unit="{ text: '%', translatable: false }"
            :bold="true"
          />
        </div>
        <ul :class="$style.group">
          <li :class="[$style.box]">
            <div :class="$style.content">
              <span>{{ $t('オミクロン株の特性を踏まえた重症者数') }}</span>
              <value-with-translatable-unit
                :value="items['都基準重症者数'].toLocaleString()"
                :unit="{ text: '人', translatable: true }"
                :bold="true"
              />
            </div>
          </li>
          <li :class="[$style.box]">
            <div :class="$style.content">
              <span>{{
                $t('オミクロン株の特性を踏まえた重症者用確保病床数')
              }}</span>
              <value-with-translatable-unit
                :value="items['都基準重症病床数'].toLocaleString()"
                :unit="{ text: '床', translatable: true, except: ['en'] }"
                :bold="true"
              />
            </div>
          </li>
        </ul>
      </li>
    </ul>
    <div :class="$style.reference">
      <span>{{ $t('（参考）') }}</span>
      <p>
        {{
          $t('国基準 重症者用病床使用率 {percentage}%（{persons}人/{bed}床）', {
            percentage: items['国基準重症病床使用率'].toLocaleString(),
            persons: items['国基準重症者数'].toLocaleString(),
            bed: items['国基準重症病床数'].toLocaleString(),
          })
        }}<br />
        <app-link :to="localePath('/cards/positive-status-severe-case/')">
          {{ $t('従来の都基準による重症者数はこちら') }}
        </app-link>
      </p>
    </div>
  </div>
</template>

<script lang="ts">
import type { PropType } from 'vue'
import Vue from 'vue'

import AppLink from '@/components/_shared/AppLink.vue'
import ValueWithTranslatableUnit from '@/components/index/CardsMonitoring/MonitoringItemsOverview/Table/ValueWithTranslatableUnit.vue'
import { Data as IInfectionMedicalCareSummaryData } from '@/libraries/auto_generated/data_converter/convertInfectionMedicalcareSummary'

export default Vue.extend({
  components: {
    AppLink,
    ValueWithTranslatableUnit,
  },
  props: {
    items: {
      type: Object as PropType<IInfectionMedicalCareSummaryData>,
      required: true,
    },
  },
})
</script>

<style lang="scss" module>
@import '@/assets/monitoringItemsTableCommon';

.reference {
  color: $gray-3;
  margin: 16px 0;

  @include font-size(14);
}

.description {
  margin: 10px 0;
  color: $gray-3;

  @include font-size(12);

  ul {
    list-style: disc inside;
    padding-left: 1em;

    li {
      margin-left: 1.5em;
      text-indent: -1.5em;
    }
  }
}
</style>
